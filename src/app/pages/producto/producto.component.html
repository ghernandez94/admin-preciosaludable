<div class="row">
    <div class="col-8 mt-5">
        <h3>Crear Producto</h3>
        <form [formGroup]="productoForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="NombreComercialProducto">Nombre Comercial</label>
                <input type="text" id="NombreComercialProducto" class="form-control" [ngClass]="{ 'is-invalid':NombreComercialProducto.invalid && this.submittedProductoForm }" formControlName="NombreComercialProducto" placeholder="ej: Aspirina" required />
            </div>
            <h4>Fármaco</h4>
            <h5>Presentación</h5>
            <div class="form-group">
                <input type="number" id="CantidadPresentacion" class="form-control" [ngClass]="{ 'is-invalid':CantidadPresentacion.invalid && this.submittedProductoForm }" min="0" formControlName="CantidadPresentacion" placeholder="cantidad" required />
            </div>
            <div formGroupName="farmacoIdFarmacoNavigation">
                <div class="form-group">
                    <select class="form-control" [ngClass]="{ 'is-invalid':PresentacionIdPresentacion.invalid && this.submittedProductoForm }" formControlName="PresentacionIdPresentacion" required>
                        <option value="">Elegir presentación</option>
                        <option *ngFor="let pre of Presentaciones"
                                value={{pre.idPresentacion}}>  
                            {{pre.nombrePresentacion}}  
                        </option>
                    </select>
                </div>
                <h5>Concentración</h5>
                <div class="row">
                    <div class="col-12">
                        <button class="btn btn-secondary" (click)="addConcentracion()">
                            Agregar principio activo
                        </button>
                    </div>
                </div>
                <div formArrayName="concentracion">
                    <div *ngFor="let item of concentracion.controls; let i = index">
                        <div [formGroupName]="i">
                            <div class="row mt-2">
                                <div class="col-md-6">
                                    <div class="form-group m-0">
                                        <select class="form-control" formControlName="principioActivoIdPrincipioActivo" required>
                                            <option value="">Elegir principio activo</option>
                                            <option *ngFor="let pa of PrincipiosActivos" 
                                                    value={{pa.idPrincipioActivo}}>  
                                                {{pa.nombrePrincipioActivo}}  
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group m-0">
                                        <input type="number" id="cantidad" class="form-control" min="0" formControlName="cantidad" placeholder="cantidad" required />
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group m-0">
                                        <select class="form-control" formControlName="unidadMedidaIdUnidadMedida" required>
                                            <option value="">unidad de medida</option>
                                            <option *ngFor="let um of UnidadesMedida" 
                                                    value={{um.idUnidadMedida}}>  
                                                {{um.simboloUnidadMedida}}  
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <div class="form-group mt-3">
                <h5>Laboratorio</h5>
                <select id="LaboratorioIdLaboratorio" class="form-control" [ngClass]="{ 'is-invalid':LaboratorioIdLaboratorio.invalid && this.submittedProductoForm }" formControlName="LaboratorioIdLaboratorio" required>
                    <option value="">Elegir laboratorio</option>
                    <option *ngFor="let lab of Laboratorios" 
                            value={{lab.idLaboratorio}}>  
                        {{lab.nombreLaboratorio}}  
                    </option>
                </select>
            </div>
            <div class="form-group">
                <h5>Bioequivalente</h5>
                <input type="text" id="ProductoBioequivalente" class="form-control" formControlName="ProductoBioequivalente" placeholder="código de producto" />
            </div>
            <button type="submit" class="btn btn-primary">Crear Producto</button>
        </form>
    </div>
</div>